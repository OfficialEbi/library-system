<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>๐ ุณุงูุงูู ูุฏุฑุช ฺฉุชุงุจุฎุงูู</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="container">
      <h1>๐ ุณุงูุงูู ูุฏุฑุช ฺฉุชุงุจุฎุงูู</h1>

      <nav>
        <ul>
          <li><a href="#" class="active">ุฎุงูู</a></li>
          <li><a href="#">ฺฉุชุงุจโูุง</a></li>
          <li><a href="#">ุชูุงุณ ุจุง ูุง</a></li>
        </ul>
      </nav>

      <div class="actions">
        <button id="searchBtn" title="ุฌุณุชุฌู ๐">๐</button>
        <button id="loginBtn">ูุฑูุฏ</button>
      </div>
    </div>
  </header>


  <main>
    <section class="book-list">
      <h2>๐ ูุณุช ฺฉุชุงุจโูุง</h2>
      <div id="bookCards" class="book-cards"></div>
    </section>

    <section class="contact">
      <h2>ุชูุงุณ ุจุง ูุง</h2>
      <p>ุงูู: ebrahim.vahidnia@gmail.com</p>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>ุณุงูุงูู ฺฉุชุงุจุฎุงูู </p>
    </div>
  </footer>

  <script>
    
    async function loadBooks() {
      try {
        const response = await fetch('http://localhost:3000/api/books');
        const data = await response.json();
  
        // ููุงุด ฺฉุชุงุจโ ูุง
        renderBooks(data);
      } catch (err) {
        console.error('โ ุฎุทุง ุฏุฑ ุฏุฑุงูุช ฺฉุชุงุจโูุง:', err);
        const container = document.getElementById("bookCards");
        container.innerHTML = `<p style="color:red; text-align:center;">โ ุฎุทุง ุฏุฑ ุฏุฑุงูุช ุงุทูุงุนุงุช ุงุฒ ุณุฑูุฑ</p>`;
      }
    }
  
    // ุชุงุจุน ููุงุด ฺฉุงุฑุชโ ูุง
    function renderBooks(books) {
      const container = document.getElementById("bookCards");
  
      if (!books.length) {
        container.innerHTML = `<p style="text-align:center;">ูฺ ฺฉุชุงุจ ุฏุฑ ุณุณุชู ุซุจุช ูุดุฏู ุงุณุช.</p>`;
        return;
      }
  
      container.innerHTML = books.map(book => `
        <div class="book-card">
          <div class="book-cover">
            <img src="https://cdn-icons-png.flaticon.com/512/29/29302.png" alt="book">
          </div>
          <div class="book-info">
            <h3>${book.title}</h3>
            <p><strong>ููุณูุฏู:</strong> ${book.author || '-'}</p>
            <p><strong>ุฏุณุชูโุจูุฏ:</strong> ${book.category || '-'}</p>
            <p><strong>ุณุงู ฺุงูพ:</strong> ${book.publication_year || '-'}</p>
            <p class="copies">๐ ูุณุฎูโูุง ููุฌูุฏ: ${book.available_copies}</p>
          </div>
        </div>
      `).join('');
    }
  
    // ุงุฌุฑุง ุชุงุจุน ููฺฏุงู ุจุงุฒ ุดุฏู ุตูุญู
    loadBooks();
  </script>
  
</body>
</html>
